/** Generated by english-annotation-buster, Powered by Google Translate.**/
package org.springframework.test.web.servlet

import org.springframework.test.web.servlet.request.MockMvcRequestBuilders

/**
 * Provide a [ResultActions] Kotlin DSL in order to be able to write idiomatic Kotlin code.
 *
 * @author Sebastien Deleuze
 * @since 5.2
 */
/**
 * 提供[ResultActions] Kotlin DSL以便能够编写惯用的Kotlin代码。 
 *  @author 塞巴斯蒂安·德勒兹@5.2起
 */
class ResultActionsDsl internal constructor (private val actions: ResultActions, private val mockMvc: MockMvc) {

	/**
	 * Provide access to [MockMvcResultMatchersDsl] Kotlin DSL.
	 * @see MockMvcResultMatchersDsl.match
	 */
	/**
	 * 提供对[MockMvcResultMatchersDsl] Kotlin DSL的访问。 
	 *  
	 * @see  MockMvcResultMatchersDsl.match
	 */
	fun andExpect(dsl: MockMvcResultMatchersDsl.() -> Unit): ResultActionsDsl {
		MockMvcResultMatchersDsl(actions).dsl()
		return this
	}

	/**
	 * Provide access to [MockMvcResultHandlersDsl] Kotlin DSL.
	 * @see MockMvcResultHandlersDsl.handle
	 */
	/**
	 * 提供对[MockMvcResultHandlersDsl] Kotlin DSL的访问。 
	 *  
	 * @see  MockMvcResultHandlersDsl.handle
	 */
	fun andDo(dsl: MockMvcResultHandlersDsl.() -> Unit): ResultActionsDsl {
		MockMvcResultHandlersDsl(actions).dsl()
		return this
	}

	/**
	 * Enable asynchronous dispatching.
	 * @see MockMvcRequestBuilders.asyncDispatch
	 * @since 5.2.2
	 */
	/**
	 * 启用异步调度。 
	 *  
	 * @see  MockMvcRequestBuilders.asyncDispatch @从5.2.2开始
	 */
	fun asyncDispatch(): ResultActionsDsl {
		return andExpect {
			request { asyncStarted() }
		}.andReturn().let {
			ResultActionsDsl(mockMvc.perform(MockMvcRequestBuilders.asyncDispatch(it)), mockMvc)
		}
	}

	/**
	 * @see ResultActions.andReturn
	 */
	/**
	 * 
	 * @see  ResultActions.andReturn
	 */
	fun andReturn() = actions.andReturn()
}
